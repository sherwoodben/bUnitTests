<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bUnitTests: bUnitTests.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bUnitTests<span id="projectnumber">&#160;1.3</span>
   </div>
   <div id="projectbrief">A small &quot;single-file header&quot; unit-testing framework for C++.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('b_unit_tests_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">bUnitTests.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;exception&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bUnitTests.h:</div>
<div class="dyncontent">
<div class="center"><img src="b_unit_tests_8h__incl.png" border="0" usemap="#ab_unit_tests_8h" loading="lazy" alt=""/></div>
<map name="ab_unit_tests_8h" id="ab_unit_tests_8h">
<area shape="rect" title="&quot;header only&quot; unit testing framework/application" alt="" coords="40,5,136,32"/>
<area shape="rect" title=" " alt="" coords="5,80,83,107"/>
<area shape="poly" title=" " alt="" coords="83,34,62,68,57,65,78,31"/>
<area shape="rect" title=" " alt="" coords="107,80,160,107"/>
<area shape="poly" title=" " alt="" coords="98,31,120,65,115,68,94,34"/>
</map>
</div>
</div>
<p><a href="b_unit_tests_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:ben_3A_3Atests_3A_3AUnitTest" id="r_ben_3A_3Atests_3A_3AUnitTest"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structben_1_1tests_1_1_unit_test.html">ben::tests::UnitTest</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adcb8eb7c946e769b75dea9120c14f436" id="r_adcb8eb7c946e769b75dea9120c14f436"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcb8eb7c946e769b75dea9120c14f436">bFILE_PATH_SEPARATOR</a>&#160;&#160;&#160;'/'</td></tr>
<tr class="memitem:a16ccbf51f00d5cdac442b3b9ac8be379" id="r_a16ccbf51f00d5cdac442b3b9ac8be379"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16ccbf51f00d5cdac442b3b9ac8be379">bTEST_ASSERT</a>(expr)</td></tr>
<tr class="memitem:a2c8cce4db0b389fc98dc2739090dc087" id="r_a2c8cce4db0b389fc98dc2739090dc087"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c8cce4db0b389fc98dc2739090dc087">bTEST_FUNCTION</a>(fName, ...)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa284bd3512f14e612ef67f778a2d8d03" id="r_aa284bd3512f14e612ef67f778a2d8d03"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa284bd3512f14e612ef67f778a2d8d03">ben::tests::bTestFnResultType</a> = void</td></tr>
<tr class="memitem:ade74ed40ce78360351fab750beb57ea2" id="r_ade74ed40ce78360351fab750beb57ea2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade74ed40ce78360351fab750beb57ea2">ben::tests::bTestFnType</a> = <a class="el" href="#aa284bd3512f14e612ef67f778a2d8d03">bTestFnResultType</a> (*)()</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>"header only" unit testing framework/application </p>
<dl class="section version"><dt>Version</dt><dd>1.2.2 </dd></dl>
<p>The "header only" mentioned above is a little bit of a lie. While this file <em>does</em> contain everything that is needed to use/make a unit testing application, it's not enough to have just the file on its own. This file should be included in a project which wants to generate a unit testing program. Then, in <em>ONE AND ONLY ONE</em> .cpp file be sure to define bTEST_IMPLEMENTATION just before including the file, like so: </p><pre class="fragment">#define bTEST_IMPLEMENTATION
#include "bUnitTests.h"
</pre><p>This will make the implemenatation in that .cpp file, but this still isn't enough to build the test application!</p>
<p>To build the test application, only this file and any source file (for the main project) which contains a test need be included as source files. The unit testing application will also need to link any libraries which the tests will depend on. This file (or at least the implementation) contains an entry point! Therefore, <em>do NOT</em> add the source file which contains the main project's entry point to the list of source files for the unit testing application. Or, be sure to <em>not</em> compile the main project's entry point in the unit testing application if the file which includes the entry point <em>is</em> included in the list of source files.</p>
<p>For example, consider a project which keeps all of its tests in a directory "/tests/" at the root of the project: </p><pre class="fragment">/example-project/
    /include/
    /src/
    /tests/
        /include/
            bUnitTests.h
        /test_1.cpp
        /test_2.cpp
        ...
</pre><p>Each of the test files (test_1.cpp, test_2.cpp, etc.) would include the UnitTests header: </p><pre class="fragment">#include "../include/bUnitTests.h"
</pre><p>And in <em>exactly one</em> of the test files: </p><pre class="fragment">#define bTEST_IMPLEMENTATION
#include "../include/bUnitTests.h"
</pre><p>The (unit testing) application would have as source files <em>ALL</em> files in the "/tests/" directory. It would link any libraries required by the tests.</p>
<p>The directory layout is not prescriptive! That is, there are plenty of options for where to place this file/test source code files. The tests can live in the implementations, or in a separate tests directory as demonstrated above.</p>
<p>This file can also be added to the /include/ search path for the compiler/linker, in which case the include might look something like: </p><pre class="fragment">#include "bUnitTests.h"
</pre><p>(or) </p><pre class="fragment">#include &lt;bUnitTests.h&gt;
</pre><p>bBUILD_TESTS must be defined to actually build the tests! Otherwise, the entry point/main function is not defined.</p>
<p>If any of the tests would produce an output to std::cout, they are instead redirected to a log file (default name "tests.txt") which contains the output for each test. The name of the log file can be controlled by providing a definition for bTESTS_LOG_FILE. Logging to a file can be disabled by defining bTESTS_NO_LOG, in which case all outputs are discarded and a log file is not generated &ndash; test results will still print to the console, however.</p>
<p>Functionality for grouping tests has been provided&ndash; tests are run for each group in sequence, so grouped tests will have their outputs closer together in the log file. Ungrouped tests belong to a group named "ungrouped". To see an example test "implementation", see the bottom of this file (above the license). </p>

<p class="definition">Definition in file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="adcb8eb7c946e769b75dea9120c14f436" name="adcb8eb7c946e769b75dea9120c14f436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcb8eb7c946e769b75dea9120c14f436">&#9670;&#160;</a></span>bFILE_PATH_SEPARATOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define bFILE_PATH_SEPARATOR&#160;&#160;&#160;'/'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file path separator (not Windows) </p>

<p class="definition">Definition at line <a class="el" href="b_unit_tests_8h_source.html#l00133">133</a> of file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>

</div>
</div>
<a id="a16ccbf51f00d5cdac442b3b9ac8be379" name="a16ccbf51f00d5cdac442b3b9ac8be379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ccbf51f00d5cdac442b3b9ac8be379">&#9670;&#160;</a></span>bTEST_ASSERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define bTEST_ASSERT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>expr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>                                                                                                                 \</div>
<div class="line">    {                                                                                                                  \</div>
<div class="line">        if (!(expr))                                                                                                   \</div>
<div class="line">        {                                                                                                              \</div>
<div class="line">            std::string  errorString{std::string{__FILE__} + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(__LINE__)};                          \</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">size_t</span> lastSeparator{errorString.find_last_of(<a class="code hl_define" href="#adcb8eb7c946e769b75dea9120c14f436">bFILE_PATH_SEPARATOR</a>)};                                \</div>
<div class="line">            errorString = errorString.substr((lastSeparator == std::string::npos ? 0 : lastSeparator));                \</div>
<div class="line">            <span class="keywordflow">throw</span> std::exception{errorString.c_str()};                                                                 \</div>
<div class="line">        }                                                                                                              \</div>
<div class="line">    } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div>
<div class="ttc" id="ab_unit_tests_8h_html_adcb8eb7c946e769b75dea9120c14f436"><div class="ttname"><a href="#adcb8eb7c946e769b75dea9120c14f436">bFILE_PATH_SEPARATOR</a></div><div class="ttdeci">#define bFILE_PATH_SEPARATOR</div><div class="ttdoc">file path separator (not Windows)</div><div class="ttdef"><b>Definition</b> <a href="b_unit_tests_8h_source.html#l00133">bUnitTests.h:133</a></div></div>
</div><!-- fragment -->
<p>test assertion macro, throws an exception if the argument is not true </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expr</td><td>the expression to evaluate (must be true for the assertion to pass) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="b_unit_tests_8h_source.html#l00170">170</a> of file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>

</div>
</div>
<a id="a2c8cce4db0b389fc98dc2739090dc087" name="a2c8cce4db0b389fc98dc2739090dc087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8cce4db0b389fc98dc2739090dc087">&#9670;&#160;</a></span>bTEST_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define bTEST_FUNCTION</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_typedef" href="#aa284bd3512f14e612ef67f778a2d8d03">ben::tests::bTestFnResultType</a> fName##_TestFunc();                                                                  \</div>
<div class="line">    <span class="keyword">namespace                                                                                                          </span>\</div>
<div class="line">    {                                                                                                                  \</div>
<div class="line">        <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>fName##_UnitTest : <span class="keyword">public</span> <a class="code hl_struct" href="structben_1_1tests_1_1_unit_test.html">ben::tests::UnitTest</a>                                      \</div>
<div class="line">        {                                                                                                              \</div>
<div class="line">            fName##_UnitTest() : UnitTest{#fName, &amp;fName##_TestFunc, ##__VA_ARGS__} {};                                \</div>
<div class="line">            <span class="keyword">virtual</span> ~fName##_UnitTest()                               = <span class="keywordflow">default</span>;                                       \</div>
<div class="line">            fName##_UnitTest(<span class="keyword">const</span> fName##_UnitTest &amp;)                = <span class="keyword">delete</span>;                                        \</div>
<div class="line">            fName##_UnitTest(fName##_UnitTest &amp;&amp;) noexcept            = delete;                                        \</div>
<div class="line">            fName<span class="preprocessor">##_UnitTest &amp;operator=(const fName##_UnitTest &amp;)     = delete;                                        \</span></div>
<div class="line"><span class="preprocessor">            fName##_UnitTest &amp;operator=(fName##_UnitTest &amp;&amp;) noexcept = delete;                                        \</span></div>
<div class="line"><span class="preprocessor">        } g_##fName##Test;                                                                                             \</span></div>
<div class="line"><span class="preprocessor">    }                                                                                                                  \</span></div>
<div class="line"><span class="preprocessor">    inline ben::tests::bTestFnResultType fName##_TestFunc()</span></div>
<div class="ttc" id="ab_unit_tests_8h_html_aa284bd3512f14e612ef67f778a2d8d03"><div class="ttname"><a href="#aa284bd3512f14e612ef67f778a2d8d03">ben::tests::bTestFnResultType</a></div><div class="ttdeci">void bTestFnResultType</div><div class="ttdoc">the return type for a test function within the framework</div><div class="ttdef"><b>Definition</b> <a href="b_unit_tests_8h_source.html#l00190">bUnitTests.h:190</a></div></div>
<div class="ttc" id="astructben_1_1tests_1_1_unit_test_html"><div class="ttname"><a href="structben_1_1tests_1_1_unit_test.html">ben::tests::UnitTest</a></div><div class="ttdoc">a struct which represents a unit test</div><div class="ttdef"><b>Definition</b> <a href="b_unit_tests_8h_source.html#l00200">bUnitTests.h:201</a></div></div>
</div><!-- fragment -->
<p>test function convenience macro (optionally grouped with a second argument) </p>
<p>creates a forward declaration to a function which returns a bTestFunc_return_t using the provided "name", then creates a special struct which inherits from the base UnitTest struct and "forwards" the forward-declared function to the UnitTest base struct ctor. Creates a (global, inline, static, const) instance of the specialized class (all within an anonymous namespace to prevent clashing, etc.), then begins the definition of the actual test function which was forward declared! Expects the user to provide the body of the function (in brackets) after the macro appears</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fName</td><td>the "name" of the test function&ndash; can contain any character that is valid in a function signature (not whitespace) including underscores (but it cannot start with a number). Will not compile if the name is not valid!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the variadic arguments are actually a single argument and it is the "group" the test belongs to&ndash; used for organizational purposes and to group similar tests! Can be left blank for ungrouped tests (which is why it's a variadic argument) </dd></dl>

<p class="definition">Definition at line <a class="el" href="b_unit_tests_8h_source.html#l00151">151</a> of file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="aa284bd3512f14e612ef67f778a2d8d03" name="aa284bd3512f14e612ef67f778a2d8d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa284bd3512f14e612ef67f778a2d8d03">&#9670;&#160;</a></span>bTestFnResultType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#aa284bd3512f14e612ef67f778a2d8d03">ben::tests::bTestFnResultType</a> = void</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the return type for a test function within the framework </p>

<p class="definition">Definition at line <a class="el" href="b_unit_tests_8h_source.html#l00190">190</a> of file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>

</div>
</div>
<a id="ade74ed40ce78360351fab750beb57ea2" name="ade74ed40ce78360351fab750beb57ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade74ed40ce78360351fab750beb57ea2">&#9670;&#160;</a></span>bTestFnType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ade74ed40ce78360351fab750beb57ea2">ben::tests::bTestFnType</a> = bTestFnResultType (*)()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the type of function to use as a test function within the framework </p>

<p class="definition">Definition at line <a class="el" href="b_unit_tests_8h_source.html#l00193">193</a> of file <a class="el" href="b_unit_tests_8h_source.html">bUnitTests.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="b_unit_tests_8h.html">bUnitTests.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
